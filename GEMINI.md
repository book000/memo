# GEMINI.md

## 目的

このファイルは Gemini CLI がこのプロジェクトで効果的に動作するためのコンテキストと作業方針を定義します。

## 出力スタイル

### 言語

- すべての会話は**日本語**で行うこと
- コード内のコメントは**日本語**で記載すること（該当する場合）
- エラーメッセージは**英語**で記載すること（該当する場合）

### トーン

- 専門的かつ正確な情報を提供すること
- 最新の情報に基づいて回答すること
- 不確実な情報については明示的に示すこと

### 形式

- 簡潔で構造化された回答を提供すること
- 必要に応じて例を含めること
- 日本語と英数字の間には半角スペースを挿入すること

## 共通ルール

### 会話言語

- すべての会話は**日本語**で行うこと

### コミット規約

- コミットメッセージは [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) に従うこと
- `<description>` は日本語で記載すること
- 形式: `<type>(<scope>): <description>`

### ブランチ命名

- [Conventional Branch](https://conventional-branch.github.io) に従うこと
- `<type>` は短縮形（feat, fix）を使用すること

### 日本語と英数字の間隔

- 日本語と英数字の間には半角スペースを挿入すること

## プロジェクト概要

- プロジェクト名: book000/memo
- 目的: Linux 系や各種プログラミング言語、フレームワークなどの技術メモ（備忘録）を管理し、Web サイトとして公開する
- サイト URL: https://memo.tomacheese.com
- ライセンス: CC BY-SA 4.0
- 主な機能:
  - Markdown 形式での技術メモの記述
  - MkDocs による静的サイトの生成
  - textlint / markdownlint による文書品質の維持
  - GitHub Pages での自動デプロイ

## 技術スタック

- 静的サイトジェネレーター: MkDocs (1.6.1)
- テーマ: Material for MkDocs (9.7.1)
- Lint: textlint, markdownlint
- パッケージマネージャー: pnpm (10.28.1)
- CI/CD: GitHub Actions
- 開発環境: Visual Studio Code

## コーディング規約

### フォーマット

- textlint と markdownlint のルールに従うこと
- `pnpm fix` で自動修正を実行すること

### 命名規則

- ファイル名は小文字とハイフンを使用 (例: `nodejs-project.md`)

### コメント言語

- コード内のコメントは日本語で記載すること（該当する場合）

### エラーメッセージ言語

- エラーメッセージは英語で記載すること（該当する場合）

## 開発コマンド

### 依存関係のインストール

```bash
# Node.js パッケージのインストール
pnpm install

# Python パッケージのインストール (MkDocs)
pip install -r requirements.txt
```

### 文書の品質チェックと修正

```bash
# textlint で文書をチェック
pnpm lint

# textlint で自動修正
pnpm fix

# textlint コマンドを直接実行
pnpm textlint
```

### ローカル開発

```bash
# MkDocs でローカルサーバーを起動
mkdocs serve
```

### ビルド

```bash
# MkDocs でサイトをビルド
mkdocs build
```

## 注意事項

### 機密情報の扱い

- **機密情報やパスワードなどの秘匿すべき情報を記載しないこと**
- **コミットに機密情報を含めないこと**

### ログへの機密情報出力禁止

- **ログに個人情報や認証情報を出力しないこと**

### 既存ルールの優先

- **既存の textlint と markdownlint のルールを優先すること**
- **既存のプロジェクト構造とパターンに従うこと**

### 既知の制約

- TODO コメントは禁止（`.textlintrc` で禁止設定済み）
- pnpm のみを使用すること（npm や npx は使用しない）
- Renovate が作成した既存のプルリクエストに対して、追加コミットや更新を行わないこと

## 文書作成ガイドライン

### Markdown ファイル編集の基本フロー

1. 適切なカテゴリ (`docs/programming/`, `docs/os/` など) にファイルを配置
2. ファイル名は小文字とハイフンを使用 (例: `nodejs-project.md`)
3. 前書きとして目的や概要を記述
4. 実際のコード例やスクリーンショットを含める
5. コミット後、`pnpm fix` → `pnpm lint` → 手動修正の順で品質を担保

### 自動修正後の確認事項

`pnpm fix` によって自動修正されたことにより、文章として不成立な状態・意味不明な文章になっていないかはよく確認すること。

特に、"。" に置き換わるルールがあるが、これによって違和感のある文章となっていないかは確認する。

### 日本語文書の品質ルール

1. 句読点は句点（。）と読点（、）を正しく使用する
2. 表記統一は同じ意味の言葉で統一した表記を使用する
3. 助詞の重複では同じ助詞の連続使用を避ける
4. 敬語では「ですます」調と「である」調の混在を避ける
5. 半角・全角では英数字は半角、日本語は全角を基本とする
6. スペースでは全角文字と半角文字の間に必要なスペースを入れる

### Markdown 記法の推奨パターン

- 見出しレベルは h1 から順序良く使用する（h1 は 1 つのファイルに 1 つ）
- コードブロックには言語を指定する
- リンクは明確でわかりやすい形式で記述する
- 画像には alt テキストをつける

## リポジトリ固有

### MkDocs について

- このプロジェクトは MkDocs with Material theme を使用して静的サイトを生成します
- `mkdocs.yml` でサイト構造、テーマ、プラグイン、拡張機能を設定しています
- GitHub Pages に自動デプロイされます

### textlint について

- textlint は日本語文書の品質を保つためのツールです
- `.textlintrc` でルールを設定しています
- 以下のルールが設定されています:
  - い抜き言葉の検出
  - フィラー（つなぎ表現）の禁止
  - サ抜き、サ入れ表現の誤用チェック
  - れ足す言葉のチェック
  - 同義語の表記ゆれチェック
  - TODO コメントの禁止
  - 日付と曜日の不一致の検出
  - ひらがな表記の推奨
  - 全角と半角アルファベットの混在チェック
  - スペース周りのスタイルチェック
  - 技術文書向けルール

### markdownlint について

- markdownlint は Markdown 記法の品質を保つためのツールです
- `.markdownlint.jsonc` でルールを設定しています
- 見出し、リスト、コードブロック、リンクなどの記法をチェックします

### Visual Studio Code 連携

- Visual Studio Code でこのプロジェクトを開くと、venv 環境下で mkdocs の serve が行われ、Chrome で `localhost:8080` が開きます

### ライセンス

- このリポジトリにあるすべてのコンテンツは当該ファイルに特記のない限り、CC BY-SA 4.0 の元で利用できます

### パッケージマネージャーの厳格なルール

- **pnpm のみを使用**すること。npm や npx は使用しないこと
- 誤って npm など別のパッケージマネージャーを使用したことにより、ロックファイルが生成された場合は削除すること
