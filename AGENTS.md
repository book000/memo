# AGENTS.md

## 目的

このファイルは一般的な AI エージェントがこのプロジェクトで効果的に動作するための共通の作業方針を定義します。

## 基本方針

### 会話言語

- すべての会話は**日本語**で行うこと

### コメント言語

- コード内のコメントは**日本語**で記載すること（該当する場合）

### エラーメッセージ言語

- エラーメッセージは**英語**で記載すること（該当する場合）

### 日本語と英数字の間隔

- 日本語と英数字の間には半角スペースを挿入すること

### コミット規約

- コミットメッセージは [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) に従うこと
- `<description>` は日本語で記載すること
- 形式: `<type>(<scope>): <description>`
- 主要なタイプ:
  - `feat`: 新機能
  - `fix`: バグ修正
  - `docs`: ドキュメントのみの変更
  - `style`: コードの意味に影響しない変更（空白、フォーマットなど）
  - `refactor`: バグ修正も機能追加もしないコード変更
  - `test`: テストの追加や修正
  - `chore`: ビルドプロセスやツールの変更

### ブランチ命名

- [Conventional Branch](https://conventional-branch.github.io) に従うこと
- `<type>` は短縮形（feat, fix）を使用すること
- 形式: `<type>/<description>`

## 判断記録のルール

判断は必ずレビュー可能な形で記録すること。

1. 判断内容の要約を記載する
2. 検討した代替案を列挙する
3. 採用しなかった案とその理由を明記する
4. 前提条件・仮定・不確実性を明示する

前提・仮定・不確実性を明示し、仮定を事実のように扱わない。

## プロジェクト概要

- プロジェクト名: book000/memo
- 目的: Linux 系や各種プログラミング言語、フレームワークなどの技術メモ（備忘録）を管理し、Web サイトとして公開する
- サイト URL: https://memo.tomacheese.com
- 技術スタック:
  - 静的サイトジェネレーター: MkDocs with Material theme
  - Lint: textlint, markdownlint
  - パッケージマネージャー: pnpm
  - CI/CD: GitHub Actions

## 開発手順（概要）

1. **プロジェクト理解**
   - README.md や既存のドキュメントを確認する
   - プロジェクトの目的と構造を理解する

2. **依存関係インストール**
   ```bash
   # Node.js パッケージのインストール
   pnpm install

   # Python パッケージのインストール (MkDocs)
   pip install -r requirements.txt
   ```

3. **変更実装**
   - 適切なカテゴリ (`docs/programming/`, `docs/os/` など) にファイルを配置
   - ファイル名は小文字とハイフンを使用 (例: `nodejs-project.md`)
   - Markdown 記法に従って文書を作成・編集

4. **テストと Lint/Format 実行**
   ```bash
   # textlint で自動修正
   pnpm fix

   # textlint でエラーチェック
   pnpm lint

   # ローカルでプレビュー
   mkdocs serve
   ```

5. **コミット**
   - Conventional Commits に従ってコミットメッセージを作成
   - センシティブな情報が含まれていないことを確認

## 文書作成ガイドライン

### 日本語文書の品質

1. 句読点は句点（。）と読点（、）を正しく使用する
2. 表記統一は同じ意味の言葉で統一した表記を使用する
3. 助詞の重複では同じ助詞の連続使用を避ける
4. 敬語では「ですます」調と「である」調の混在を避ける
5. 半角・全角では英数字は半角、日本語は全角を基本とする
6. スペースでは全角文字と半角文字の間に必要なスペースを入れる

### Markdown 記法

- 見出しレベルは h1 から順序良く使用する（h1 は 1 つのファイルに 1 つ）
- コードブロックには言語を指定する
- リンクは明確でわかりやすい形式で記述する
- 画像には alt テキストをつける

## セキュリティ / 機密情報

- **機密情報やパスワードなどの秘匿すべき情報を記載しないこと**
- **著作権に触れる可能性のあるコードやコンテンツをコピーしないこと**
- **不適切な言葉や差別的な内容を記載しないこと**
- **TODO コメントを残存させないこと**（`.textlintrc` で禁止設定済み）

## リポジトリ固有

### パッケージマネージャー

- **pnpm のみを使用**すること。npm や npx は使用しないこと
- 誤って npm など別のパッケージマネージャーを使用したことにより、ロックファイルが生成された場合は削除すること

### MkDocs

- このプロジェクトは MkDocs with Material theme を使用して静的サイトを生成します
- `mkdocs.yml` でサイト構造、テーマ、プラグイン、拡張機能を設定しています
- GitHub Pages に自動デプロイされます

### textlint と markdownlint

- textlint は日本語文書の品質を保つためのツールです
- markdownlint は Markdown 記法の品質を保つためのツールです
- 文書編集後は、`pnpm fix` → `pnpm lint` → 手動修正の順で品質を担保すること

### ライセンス

- このリポジトリにあるすべてのコンテンツは当該ファイルに特記のない限り、CC BY-SA 4.0 の元で利用できます

### Renovate

- Renovate が作成した既存のプルリクエストに対して、追加コミットや更新を行わないこと
